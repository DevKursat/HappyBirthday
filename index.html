<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Doğum Günü Sürprizi</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
</head>
<body>
    <!-- 1. Form Ekranı -->
    <div class="container" id="form-container">
        <h1>Kimin Doğum Gününü Kutlamak İstersin?</h1>
        <input type="text" id="name-input" placeholder="Arkadaşının Adı" aria-label="Arkadaşının Adı">
        <textarea id="message-input" placeholder="Özel Mesajın (isteğe bağlı)" aria-label="Özel Mesajın" maxlength="150"></textarea>
        <button id="create-button">Paylaşım Linki Oluştur</button>
    </div>

    <!-- 2. Pinyata Oyunu Ekranı -->
    <div class="container hidden" id="pinata-container">
        <h1 id="pinata-heading"></h1>
        <p>Sürprizi görmek için pinyataya dokunarak kır!</p>
        <svg id="pinata-svg" viewBox="0 0 200 200" width="200" height="200">
            <g id="pinata-body">
                <path d="M 50,50 Q 100,20 150,50 T 150,150 Q 100,180 50,150 T 50,50 Z" fill="#E94E77"/>
                <path d="M 70,70 Q 100,50 130,70" stroke="#f7a8b8" stroke-width="5" fill="none"/>
                <path d="M 60,100 L 140,100" stroke="#f7a8b8" stroke-width="5" fill="none"/>
                <path d="M 70,130 Q 100,150 130,130" stroke="#f7a8b8" stroke-width="5" fill="none"/>
                <!-- Pinyata Çatlakları -->
                <path id="crack1" class="crack" d="M 90 80 L 100 90 L 95 100" stroke="black" stroke-width="2" fill="none"/>
                <path id="crack2" class="crack" d="M 110 110 L 120 115 L 115 125" stroke="black" stroke-width="2" fill="none"/>
                <path id="crack3" class="crack" d="M 80 130 L 70 140" stroke="black" stroke-width="2" fill="none"/>
            </g>
            <path id="pinata-string" d="M 100,50 L 100,10" stroke="brown" stroke-width="3"/>
        </svg>
    </div>

    <!-- 3. Ana Kutlama Ekranı -->
    <div class="container hidden" id="celebration-container">
        <div class="letter-wrapper">
            <div class="letter" id="letter">
                <div class="letter-content">
                    <h2 id="celebration-name"></h2>
                    <p id="celebration-message"></p>
                </div>
            </div>
        </div>
        <div class="cake-container" id="cake-container">
            <svg id="birthday-cake" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                <g id="cake-layers">
                    <rect x="20" y="60" width="60" height="20" fill="#F2A3B3"/>
                    <rect x="25" y="45" width="50" height="15" fill="#F5C4CF"/>
                </g>
                <g id="candle">
                    <rect x="48" y="30" width="4" height="15" fill="#FFD700"/>
                    <path id="flame" d="M 50 30 Q 52 25 50 20 Q 48 25 50 30" fill="#FFA500"/>
                </g>
                <rect x="15" y="80" width="70" height="5" fill="#E0E0E0" rx="2"/>
            </svg>
            <svg id="wind-animation" class="hidden" viewBox="0 0 100 100" width="100" height="100">
                <path d="M 0 50 Q 25 40 50 50 Q 75 60 100 50" stroke="white" stroke-width="2" fill="none"/>
                <path d="M 0 40 Q 25 30 50 40 Q 75 50 100 40" stroke="white" stroke-width="2" fill="none"/>
            </svg>
        </div>
        <svg id="blower" class="hidden" viewBox="0 0 100 100" width="100" height="100">
            <circle cx="50" cy="50" r="30" fill="#ffcc80"/>
            <circle cx="60" cy="45" r="5" fill="black"/>
            <path d="M 40,60 Q 50,70 60,60" stroke="black" stroke-width="3" fill="none"/>
        </svg>
    </div>

    <!-- 4. Final Ekranı -->
    <div class="final-message-container hidden" id="final-message-container">
        <h1 id="final-message" class="hidden">Tüm dileklerinin gerçek olması dileğiyle!</h1>
        <p id="wish-prompt" class="hidden">Bir dilek tut ve mumu üflemek için pastaya dokun!</p>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.2/dist/confetti.browser.min.js"></script>
    <script src="script.js?v=1.3"></script>
</body>
</html>